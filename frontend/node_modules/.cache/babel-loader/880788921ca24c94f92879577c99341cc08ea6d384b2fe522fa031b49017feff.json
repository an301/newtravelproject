{"ast":null,"code":"var _jsxFileName = \"/Users/anam301/Documents/GitHub/newtravelproject/frontend/src/Map.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HERE_API_KEY = \"v5iH85vmMKhZOP8KkEtw7Kg8DKuBlxvhNkCpfoe_f4A\"; // Your HERE API Key\n\nconst loadHereMaps = () => {\n  return new Promise((resolve, reject) => {\n    if (window.H) {\n      resolve(window.H);\n      return;\n    }\n    const script = document.createElement(\"script\");\n    script.src = \"https://js.api.here.com/v3/3.1/mapsjs-core.js\";\n    script.async = true;\n    script.defer = true;\n    script.onload = () => {\n      const serviceScript = document.createElement(\"script\");\n      serviceScript.src = \"https://js.api.here.com/v3/3.1/mapsjs-service.js\";\n      serviceScript.async = true;\n      serviceScript.defer = true;\n      serviceScript.onload = () => {\n        const uiScript = document.createElement(\"script\");\n        uiScript.src = \"https://js.api.here.com/v3/3.1/mapsjs-ui.js\";\n        uiScript.async = true;\n        uiScript.defer = true;\n        uiScript.onload = () => {\n          const eventsScript = document.createElement(\"script\");\n          eventsScript.src = \"https://js.api.here.com/v3/3.1/mapsjs-mapevents.js\";\n          eventsScript.async = true;\n          eventsScript.defer = true;\n          eventsScript.onload = () => resolve(window.H);\n          eventsScript.onerror = reject;\n          document.body.appendChild(eventsScript);\n        };\n        uiScript.onerror = reject;\n        document.body.appendChild(uiScript);\n      };\n      serviceScript.onerror = reject;\n      document.body.appendChild(serviceScript);\n    };\n    script.onerror = reject;\n    document.body.appendChild(script);\n  });\n};\nconst MapComponent = () => {\n  _s();\n  const mapRef = useRef(null);\n  const [location, setLocation] = useState(\"\");\n  const [mapInstance, setMapInstance] = useState(null);\n  const [platform, setPlatform] = useState(null);\n  useEffect(() => {\n    if (!mapRef.current) return;\n    loadHereMaps().then(H => {\n      if (!platform) {\n        const newPlatform = new H.service.Platform({\n          apikey: HERE_API_KEY\n        });\n        setPlatform(newPlatform);\n      }\n      if (!platform || !mapRef.current) return;\n\n      // Remove existing map before creating a new one\n      if (mapInstance) {\n        mapInstance.dispose();\n      }\n      const defaultLayers = platform.createDefaultLayers();\n      const newMap = new H.Map(mapRef.current, defaultLayers.vector.normal.map, {\n        center: {\n          lat: 37.7749,\n          lng: -122.4194\n        },\n        // Default location: San Francisco\n        zoom: 12\n      });\n      new H.mapevents.Behavior(new H.mapevents.MapEvents(newMap));\n      H.ui.UI.createDefault(newMap, defaultLayers);\n      setMapInstance(newMap);\n    }).catch(err => {\n      console.error(\"HERE Maps failed to load:\", err);\n    });\n    return () => {\n      if (mapInstance) {\n        mapInstance.dispose(); // Cleanup old map\n      }\n    };\n  }, [platform]);\n  const handleSearch = async () => {\n    if (!location || !mapInstance || !platform) return;\n    const geocoder = platform.getSearchService();\n    geocoder.geocode({\n      q: location\n    }, result => {\n      if (result.items.length > 0) {\n        const {\n          lat,\n          lng\n        } = result.items[0].position;\n        const newCenter = {\n          lat,\n          lng\n        };\n        mapInstance.setCenter(newCenter);\n        mapInstance.setZoom(14);\n        mapInstance.removeObjects(mapInstance.getObjects()); // Remove old markers\n\n        const marker = new window.H.map.Marker(newCenter);\n        mapInstance.addObject(marker);\n      } else {\n        alert(\"Location not found\");\n      }\n    }, error => {\n      console.error(\"Geocoding error:\", error);\n      alert(\"Error in geocoding\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: location,\n      onChange: e => setLocation(e.target.value),\n      placeholder: \"Enter location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSearch,\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        width: \"500px\",\n        height: \"500px\",\n        marginTop: \"10px\",\n        borderRadius: \"10px\",\n        border: \"2px solid #ccc\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(MapComponent, \"o5Q3fMEKLEDb1ZBougvgPRMkMck=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","HERE_API_KEY","loadHereMaps","Promise","resolve","reject","window","H","script","document","createElement","src","async","defer","onload","serviceScript","uiScript","eventsScript","onerror","body","appendChild","MapComponent","_s","mapRef","location","setLocation","mapInstance","setMapInstance","platform","setPlatform","current","then","newPlatform","service","Platform","apikey","dispose","defaultLayers","createDefaultLayers","newMap","Map","vector","normal","map","center","lat","lng","zoom","mapevents","Behavior","MapEvents","ui","UI","createDefault","catch","err","console","error","handleSearch","geocoder","getSearchService","geocode","q","result","items","length","position","newCenter","setCenter","setZoom","removeObjects","getObjects","marker","Marker","addObject","alert","children","type","value","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","style","width","height","marginTop","borderRadius","border","_c","$RefreshReg$"],"sources":["/Users/anam301/Documents/GitHub/newtravelproject/frontend/src/Map.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\nconst HERE_API_KEY = \"v5iH85vmMKhZOP8KkEtw7Kg8DKuBlxvhNkCpfoe_f4A\"; // Your HERE API Key\n\nconst loadHereMaps = () => {\n  return new Promise((resolve, reject) => {\n    if (window.H) {\n      resolve(window.H);\n      return;\n    }\n\n    const script = document.createElement(\"script\");\n    script.src = \"https://js.api.here.com/v3/3.1/mapsjs-core.js\";\n    script.async = true;\n    script.defer = true;\n    script.onload = () => {\n      const serviceScript = document.createElement(\"script\");\n      serviceScript.src = \"https://js.api.here.com/v3/3.1/mapsjs-service.js\";\n      serviceScript.async = true;\n      serviceScript.defer = true;\n      serviceScript.onload = () => {\n        const uiScript = document.createElement(\"script\");\n        uiScript.src = \"https://js.api.here.com/v3/3.1/mapsjs-ui.js\";\n        uiScript.async = true;\n        uiScript.defer = true;\n        uiScript.onload = () => {\n          const eventsScript = document.createElement(\"script\");\n          eventsScript.src =\n            \"https://js.api.here.com/v3/3.1/mapsjs-mapevents.js\";\n          eventsScript.async = true;\n          eventsScript.defer = true;\n          eventsScript.onload = () => resolve(window.H);\n          eventsScript.onerror = reject;\n          document.body.appendChild(eventsScript);\n        };\n        uiScript.onerror = reject;\n        document.body.appendChild(uiScript);\n      };\n      serviceScript.onerror = reject;\n      document.body.appendChild(serviceScript);\n    };\n    script.onerror = reject;\n    document.body.appendChild(script);\n  });\n};\n\nconst MapComponent = () => {\n  const mapRef = useRef(null);\n  const [location, setLocation] = useState(\"\");\n  const [mapInstance, setMapInstance] = useState(null);\n  const [platform, setPlatform] = useState(null);\n\n  useEffect(() => {\n    if (!mapRef.current) return;\n\n    loadHereMaps()\n      .then((H) => {\n        if (!platform) {\n          const newPlatform = new H.service.Platform({\n            apikey: HERE_API_KEY,\n          });\n          setPlatform(newPlatform);\n        }\n\n        if (!platform || !mapRef.current) return;\n\n        // Remove existing map before creating a new one\n        if (mapInstance) {\n          mapInstance.dispose();\n        }\n\n        const defaultLayers = platform.createDefaultLayers();\n        const newMap = new H.Map(\n          mapRef.current,\n          defaultLayers.vector.normal.map,\n          {\n            center: { lat: 37.7749, lng: -122.4194 }, // Default location: San Francisco\n            zoom: 12,\n          }\n        );\n\n        new H.mapevents.Behavior(new H.mapevents.MapEvents(newMap));\n        H.ui.UI.createDefault(newMap, defaultLayers);\n\n        setMapInstance(newMap);\n      })\n      .catch((err) => {\n        console.error(\"HERE Maps failed to load:\", err);\n      });\n\n    return () => {\n      if (mapInstance) {\n        mapInstance.dispose(); // Cleanup old map\n      }\n    };\n  }, [platform]);\n\n  const handleSearch = async () => {\n    if (!location || !mapInstance || !platform) return;\n\n    const geocoder = platform.getSearchService();\n    geocoder.geocode(\n      { q: location },\n      (result) => {\n        if (result.items.length > 0) {\n          const { lat, lng } = result.items[0].position;\n          const newCenter = { lat, lng };\n\n          mapInstance.setCenter(newCenter);\n          mapInstance.setZoom(14);\n\n          mapInstance.removeObjects(mapInstance.getObjects()); // Remove old markers\n\n          const marker = new window.H.map.Marker(newCenter);\n          mapInstance.addObject(marker);\n        } else {\n          alert(\"Location not found\");\n        }\n      },\n      (error) => {\n        console.error(\"Geocoding error:\", error);\n        alert(\"Error in geocoding\");\n      }\n    );\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={location}\n        onChange={(e) => setLocation(e.target.value)}\n        placeholder=\"Enter location\"\n      />\n      <button onClick={handleSearch}>Search</button>\n      <div\n        ref={mapRef}\n        style={{\n          width: \"500px\",\n          height: \"500px\",\n          marginTop: \"10px\",\n          borderRadius: \"10px\",\n          border: \"2px solid #ccc\",\n        }}\n      />\n    </div>\n  );\n};\n\nexport default MapComponent;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,YAAY,GAAG,6CAA6C,CAAC,CAAC;;AAEpE,MAAMC,YAAY,GAAGA,CAAA,KAAM;EACzB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,IAAIC,MAAM,CAACC,CAAC,EAAE;MACZH,OAAO,CAACE,MAAM,CAACC,CAAC,CAAC;MACjB;IACF;IAEA,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAACG,GAAG,GAAG,+CAA+C;IAC5DH,MAAM,CAACI,KAAK,GAAG,IAAI;IACnBJ,MAAM,CAACK,KAAK,GAAG,IAAI;IACnBL,MAAM,CAACM,MAAM,GAAG,MAAM;MACpB,MAAMC,aAAa,GAAGN,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MACtDK,aAAa,CAACJ,GAAG,GAAG,kDAAkD;MACtEI,aAAa,CAACH,KAAK,GAAG,IAAI;MAC1BG,aAAa,CAACF,KAAK,GAAG,IAAI;MAC1BE,aAAa,CAACD,MAAM,GAAG,MAAM;QAC3B,MAAME,QAAQ,GAAGP,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;QACjDM,QAAQ,CAACL,GAAG,GAAG,6CAA6C;QAC5DK,QAAQ,CAACJ,KAAK,GAAG,IAAI;QACrBI,QAAQ,CAACH,KAAK,GAAG,IAAI;QACrBG,QAAQ,CAACF,MAAM,GAAG,MAAM;UACtB,MAAMG,YAAY,GAAGR,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;UACrDO,YAAY,CAACN,GAAG,GACd,oDAAoD;UACtDM,YAAY,CAACL,KAAK,GAAG,IAAI;UACzBK,YAAY,CAACJ,KAAK,GAAG,IAAI;UACzBI,YAAY,CAACH,MAAM,GAAG,MAAMV,OAAO,CAACE,MAAM,CAACC,CAAC,CAAC;UAC7CU,YAAY,CAACC,OAAO,GAAGb,MAAM;UAC7BI,QAAQ,CAACU,IAAI,CAACC,WAAW,CAACH,YAAY,CAAC;QACzC,CAAC;QACDD,QAAQ,CAACE,OAAO,GAAGb,MAAM;QACzBI,QAAQ,CAACU,IAAI,CAACC,WAAW,CAACJ,QAAQ,CAAC;MACrC,CAAC;MACDD,aAAa,CAACG,OAAO,GAAGb,MAAM;MAC9BI,QAAQ,CAACU,IAAI,CAACC,WAAW,CAACL,aAAa,CAAC;IAC1C,CAAC;IACDP,MAAM,CAACU,OAAO,GAAGb,MAAM;IACvBI,QAAQ,CAACU,IAAI,CAACC,WAAW,CAACZ,MAAM,CAAC;EACnC,CAAC,CAAC;AACJ,CAAC;AAED,MAAMa,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAMC,MAAM,GAAG1B,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAM,CAAC2B,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC4B,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC8B,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EAE9CF,SAAS,CAAC,MAAM;IACd,IAAI,CAAC2B,MAAM,CAACO,OAAO,EAAE;IAErB5B,YAAY,CAAC,CAAC,CACX6B,IAAI,CAAExB,CAAC,IAAK;MACX,IAAI,CAACqB,QAAQ,EAAE;QACb,MAAMI,WAAW,GAAG,IAAIzB,CAAC,CAAC0B,OAAO,CAACC,QAAQ,CAAC;UACzCC,MAAM,EAAElC;QACV,CAAC,CAAC;QACF4B,WAAW,CAACG,WAAW,CAAC;MAC1B;MAEA,IAAI,CAACJ,QAAQ,IAAI,CAACL,MAAM,CAACO,OAAO,EAAE;;MAElC;MACA,IAAIJ,WAAW,EAAE;QACfA,WAAW,CAACU,OAAO,CAAC,CAAC;MACvB;MAEA,MAAMC,aAAa,GAAGT,QAAQ,CAACU,mBAAmB,CAAC,CAAC;MACpD,MAAMC,MAAM,GAAG,IAAIhC,CAAC,CAACiC,GAAG,CACtBjB,MAAM,CAACO,OAAO,EACdO,aAAa,CAACI,MAAM,CAACC,MAAM,CAACC,GAAG,EAC/B;QACEC,MAAM,EAAE;UAAEC,GAAG,EAAE,OAAO;UAAEC,GAAG,EAAE,CAAC;QAAS,CAAC;QAAE;QAC1CC,IAAI,EAAE;MACR,CACF,CAAC;MAED,IAAIxC,CAAC,CAACyC,SAAS,CAACC,QAAQ,CAAC,IAAI1C,CAAC,CAACyC,SAAS,CAACE,SAAS,CAACX,MAAM,CAAC,CAAC;MAC3DhC,CAAC,CAAC4C,EAAE,CAACC,EAAE,CAACC,aAAa,CAACd,MAAM,EAAEF,aAAa,CAAC;MAE5CV,cAAc,CAACY,MAAM,CAAC;IACxB,CAAC,CAAC,CACDe,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG,CAAC;IACjD,CAAC,CAAC;IAEJ,OAAO,MAAM;MACX,IAAI7B,WAAW,EAAE;QACfA,WAAW,CAACU,OAAO,CAAC,CAAC,CAAC,CAAC;MACzB;IACF,CAAC;EACH,CAAC,EAAE,CAACR,QAAQ,CAAC,CAAC;EAEd,MAAM8B,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAAClC,QAAQ,IAAI,CAACE,WAAW,IAAI,CAACE,QAAQ,EAAE;IAE5C,MAAM+B,QAAQ,GAAG/B,QAAQ,CAACgC,gBAAgB,CAAC,CAAC;IAC5CD,QAAQ,CAACE,OAAO,CACd;MAAEC,CAAC,EAAEtC;IAAS,CAAC,EACduC,MAAM,IAAK;MACV,IAAIA,MAAM,CAACC,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;QAC3B,MAAM;UAAEpB,GAAG;UAAEC;QAAI,CAAC,GAAGiB,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAACE,QAAQ;QAC7C,MAAMC,SAAS,GAAG;UAAEtB,GAAG;UAAEC;QAAI,CAAC;QAE9BpB,WAAW,CAAC0C,SAAS,CAACD,SAAS,CAAC;QAChCzC,WAAW,CAAC2C,OAAO,CAAC,EAAE,CAAC;QAEvB3C,WAAW,CAAC4C,aAAa,CAAC5C,WAAW,CAAC6C,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;;QAErD,MAAMC,MAAM,GAAG,IAAIlE,MAAM,CAACC,CAAC,CAACoC,GAAG,CAAC8B,MAAM,CAACN,SAAS,CAAC;QACjDzC,WAAW,CAACgD,SAAS,CAACF,MAAM,CAAC;MAC/B,CAAC,MAAM;QACLG,KAAK,CAAC,oBAAoB,CAAC;MAC7B;IACF,CAAC,EACAlB,KAAK,IAAK;MACTD,OAAO,CAACC,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;MACxCkB,KAAK,CAAC,oBAAoB,CAAC;IAC7B,CACF,CAAC;EACH,CAAC;EAED,oBACE3E,OAAA;IAAA4E,QAAA,gBACE5E,OAAA;MACE6E,IAAI,EAAC,MAAM;MACXC,KAAK,EAAEtD,QAAS;MAChBuD,QAAQ,EAAGC,CAAC,IAAKvD,WAAW,CAACuD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC7CI,WAAW,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eACFtF,OAAA;MAAQuF,OAAO,EAAE7B,YAAa;MAAAkB,QAAA,EAAC;IAAM;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC9CtF,OAAA;MACEwF,GAAG,EAAEjE,MAAO;MACZkE,KAAK,EAAE;QACLC,KAAK,EAAE,OAAO;QACdC,MAAM,EAAE,OAAO;QACfC,SAAS,EAAE,MAAM;QACjBC,YAAY,EAAE,MAAM;QACpBC,MAAM,EAAE;MACV;IAAE;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAAChE,EAAA,CArGID,YAAY;AAAA0E,EAAA,GAAZ1E,YAAY;AAuGlB,eAAeA,YAAY;AAAC,IAAA0E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}